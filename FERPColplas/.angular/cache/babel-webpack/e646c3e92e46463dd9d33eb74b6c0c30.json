{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/corrida.service\";\nimport * as i2 from \"src/app/services/material.service\";\nimport * as i3 from \"src/app/services/devolucion.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\n\nfunction DevolucionMostrarComponent_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const devolucionesOrden_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", devolucionesOrden_r1.descripcion, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(devolucionesOrden_r1.cantidadConsumida);\n  }\n}\n\nexport let DevolucionMostrarComponent = /*#__PURE__*/(() => {\n  class DevolucionMostrarComponent {\n    constructor(_corridaService, _materialService, _devolucionService, route) {\n      this._corridaService = _corridaService;\n      this._materialService = _materialService;\n      this._devolucionService = _devolucionService;\n      this.route = route;\n      this.cambioEditarDevolucion = new EventEmitter();\n      this.cambioVerMaterialSalida = new EventEmitter();\n      this.CorridasExtrusion = [];\n      this.DevolucionesOrden = [];\n    }\n\n    ngOnChanges(changes) {\n      this.totalProducido = this._materialService.MaterialSalidaTotal;\n      this.CorridasExtrusion.push(this._corridaService.CorridaExtrusion);\n\n      if (this.CorridasExtrusion[0]) {\n        this.obtenerDevolucion();\n      }\n    } // It get all the data in Devolucion in a give orden de produccion\n\n\n    obtenerDevolucion() {\n      var _a;\n\n      this.ordenProduccion = (_a = this.route.snapshot.paramMap.get('ordenProduccion')) === null || _a === void 0 ? void 0 : _a.toString();\n\n      this._devolucionService.countDevoluciones(this.ordenProduccion).subscribe(data => {\n        this.DevolucionesOrden = data;\n\n        if (this._devolucionService.DevolucionTotal > 0) {\n          this._devolucionService.DevolucionTotal = 0;\n        }\n\n        for (let index = 0; index < data.length; index++) {\n          this._devolucionService.DevolucionTotal = this._devolucionService.DevolucionTotal + data[index].cantidadConsumida;\n        }\n\n        var devolucionCorrrida = [];\n        devolucionCorrrida.push(this.DevolucionesOrden);\n\n        if (this._corridaService.numeroCorridaPagination == 0) {\n          this._corridaService.AlmacenarInformacionCorrida[1][5] = devolucionCorrrida;\n        } else {\n          this._corridaService.AlmacenarInformacionCorrida[this._corridaService.numeroCorridaPagination][5] = devolucionCorrrida;\n        }\n      }, error => {\n        console.log(error);\n      });\n    }\n\n  }\n\n  DevolucionMostrarComponent.ɵfac = function DevolucionMostrarComponent_Factory(t) {\n    return new (t || DevolucionMostrarComponent)(i0.ɵɵdirectiveInject(i1.CorridaService), i0.ɵɵdirectiveInject(i2.MaterialService), i0.ɵɵdirectiveInject(i3.DevolucionService), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n  };\n\n  DevolucionMostrarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DevolucionMostrarComponent,\n    selectors: [[\"app-devolucion-mostrar\"]],\n    inputs: {\n      DevolucionTotal: \"DevolucionTotal\"\n    },\n    outputs: {\n      cambioEditarDevolucion: \"cambioEditarDevolucion\",\n      cambioVerMaterialSalida: \"cambioVerMaterialSalida\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 10,\n    vars: 1,\n    consts: [[1, \"devoluciones-mostrar\"], [1, \"table\", \"table-sm\"], [1, \"devolucion-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"devolucion-table-div\"]],\n    template: function DevolucionMostrarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵelementStart(2, \"table\", 1);\n        i0.ɵɵelementStart(3, \"thead\");\n        i0.ɵɵelementStart(4, \"tr\", 2);\n        i0.ɵɵelementStart(5, \"th\");\n        i0.ɵɵtext(6, \"Material\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"th\");\n        i0.ɵɵtext(8, \"Cantidad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, DevolucionMostrarComponent_tr_9_Template, 6, 2, \"tr\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.DevolucionesOrden);\n      }\n    },\n    directives: [i5.NgForOf],\n    styles: [\".devoluciones-mostrar[_ngcontent-%COMP%]{margin-top:13px}\"]\n  });\n  return DevolucionMostrarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
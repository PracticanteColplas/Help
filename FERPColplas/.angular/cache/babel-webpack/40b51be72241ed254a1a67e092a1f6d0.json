{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/operario.service\";\nimport * as i3 from \"src/app/services/orden-produccion.service\";\nimport * as i4 from \"src/app/services/corrida.service\";\nimport * as i5 from \"src/app/services/devolucion.service\";\nimport * as i6 from \"src/app/services/buscar-orden-produccion.service\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"ngx-toastr\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"../orden-produccion-ver/orden-produccion-ver.component\";\n\nfunction BuscarOrdenProduccionComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelementStart(8, \"i\", 15);\n    i0.ɵɵlistener(\"click\", function BuscarOrdenProduccionComponent_tr_29_Template_i_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const orden_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.verOrdenProduccion(orden_r2.pk_OrdenProduccion);\n    });\n    i0.ɵɵelement(9, \"i\", 16);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(10, \"svg\", 17);\n    i0.ɵɵelement(11, \"path\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(12, \"i\", 19);\n    i0.ɵɵlistener(\"click\", function BuscarOrdenProduccionComponent_tr_29_Template_i_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const orden_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.descargarOrdenProduccion(orden_r2.pk_OrdenProduccion);\n    });\n    i0.ɵɵelement(13, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const orden_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r2.pk_OrdenProduccion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r2.codigoProductoERP);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orden_r2.descripcion);\n  }\n}\n\nfunction BuscarOrdenProduccionComponent_app_orden_produccion_ver_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-orden-produccion-ver\", 21);\n    i0.ɵɵlistener(\"cambio\", function BuscarOrdenProduccionComponent_app_orden_produccion_ver_30_Template_app_orden_produccion_ver_cambio_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.materialSalidaVerMostrar_($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ordenProduccionBuscar\", ctx_r1._buscarOrdenProduccionService.OrdenProduccionID);\n  }\n}\n\nexport let BuscarOrdenProduccionComponent = /*#__PURE__*/(() => {\n  class BuscarOrdenProduccionComponent {\n    constructor(fb, _operarioService, _ordenProduccionService, _corridaService, _devolucionService, _buscarOrdenProduccionService, route, toastr, eRef) {\n      this.fb = fb;\n      this._operarioService = _operarioService;\n      this._ordenProduccionService = _ordenProduccionService;\n      this._corridaService = _corridaService;\n      this._devolucionService = _devolucionService;\n      this._buscarOrdenProduccionService = _buscarOrdenProduccionService;\n      this.route = route;\n      this.toastr = toastr;\n      this.eRef = eRef;\n      this.cambio = new EventEmitter();\n      this.activarFinalizarCorrida = new EventEmitter();\n      this.maquina = new EventEmitter();\n      this.isFocusInsideComponent = false;\n      this.isComponentClicked = false;\n      this.boton = true;\n      this.contador = 0;\n      this.ordenesProduccion = [];\n      this.ordenesProduccion2 = [];\n      this.AceptarbuscarOrdenProduccionService = false;\n      this.listMaquinasCorridaExtrusion = [{\n        nombre: 'CMG1',\n        value: 'CMG1'\n      }, {\n        nombre: 'CMG2',\n        value: 'CMG2'\n      }, {\n        nombre: 'CAST',\n        value: 'CAST'\n      }];\n      this.listOrdenProduccion = [];\n      this.listVOrdenProduccion = [];\n      this.listOperario = [];\n      this.valor = \"\";\n      this.filterPost = '';\n      this.inputValue = \"\";\n      this.tags = [];\n      this.title = 'angular-app';\n      this.fileName = 'ExcelSheet.xlsx';\n      this.form = this.fb.group({\n        fechaInicial: ['', [Validators.required]],\n        operarioIncial: ['', [Validators.required, Validators.maxLength(16), Validators.minLength(1)]],\n        tiempoAjuste: ['', [Validators.required]],\n        maquina: ['', [Validators.required]]\n      });\n    }\n\n    clickout(event) {\n      if (this.contador == 0 || this.eRef.nativeElement.contains(event.target)) {\n        this.contador += 1;\n        this.isComponentClicked = true;\n        this.isFocusInsideComponent = true;\n      } else {\n        this.contador += 1;\n        this.cambio.emit(false);\n        this.isComponentClicked = false;\n        this.isFocusInsideComponent = false;\n      }\n    }\n\n    ngOnInit() {\n      this._ordenProduccionService.getOrdenesProduccion().subscribe(data => {\n        this.ordenesProduccion = data;\n        this.ordenesProduccion2 = data;\n        this.form.reset();\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    ngOnChanges() {\n      this.cortina = document.getElementsByClassName(\"cortina\");\n      this.boton = this._corridaService.boton;\n\n      if (this._corridaService.OperarioCorridaExtrusionInicio.length == undefined) {\n        this.boton == true;\n      }\n\n      this.proceso = this.route.snapshot.paramMap.get('proceso');\n    }\n\n    onInput(value) {\n      var nuevoValor = value.target.value;\n      var nuevoArray = [];\n\n      for (let index = 0; index < this.ordenesProduccion2.length; index++) {\n        if (this.ordenesProduccion2[index][\"pk_OrdenProduccion\"].indexOf(nuevoValor) != -1) {\n          nuevoArray.push(this.ordenesProduccion2[index]);\n        }\n      }\n\n      this.ordenesProduccion = nuevoArray;\n    } // It activates the component of material salida editar for edit\n\n\n    descargarOrdenProduccion(OrdenProduccionID) {\n      this._buscarOrdenProduccionService.AceptarbuscarOrdenProduccionService = true;\n      this._buscarOrdenProduccionService.OrdenProduccionID = OrdenProduccionID;\n      this.AceptarbuscarOrdenProduccionService = true;\n      this.iniciarVerMaterialSalida = true;\n      this._buscarOrdenProduccionService.DescargarOrdenProduccionData = true;\n    } // It activates the component of material salida ver for show the data\n\n\n    verOrdenProduccion(OrdenProduccionID) {\n      this._buscarOrdenProduccionService.AceptarbuscarOrdenProduccionService = true;\n      this._buscarOrdenProduccionService.OrdenProduccionID = OrdenProduccionID;\n      this.AceptarbuscarOrdenProduccionService = true;\n      var cortina = document.getElementsByClassName(\"cortina\");\n      cortina[0].style.visibility = 'visible';\n      this.iniciarVerMaterialSalida = true;\n      this._buscarOrdenProduccionService.DescargarOrdenProduccionData = false;\n    }\n\n    materialSalidaVerMostrar_(entrada) {\n      if (entrada == false) {\n        this.iniciarVerMaterialSalida = entrada;\n      }\n    }\n\n  }\n\n  BuscarOrdenProduccionComponent.ɵfac = function BuscarOrdenProduccionComponent_Factory(t) {\n    return new (t || BuscarOrdenProduccionComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.OperarioService), i0.ɵɵdirectiveInject(i3.OrdenProduccionService), i0.ɵɵdirectiveInject(i4.CorridaService), i0.ɵɵdirectiveInject(i5.DevolucionService), i0.ɵɵdirectiveInject(i6.BuscarOrdenProduccionService), i0.ɵɵdirectiveInject(i7.ActivatedRoute), i0.ɵɵdirectiveInject(i8.ToastrService), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n\n  BuscarOrdenProduccionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BuscarOrdenProduccionComponent,\n    selectors: [[\"app-buscar-orden-produccion\"]],\n    hostBindings: function BuscarOrdenProduccionComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function BuscarOrdenProduccionComponent_click_HostBindingHandler($event) {\n          return ctx.clickout($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      OperarioCorridaExtrusionInicio: \"OperarioCorridaExtrusionInicio\"\n    },\n    outputs: {\n      cambio: \"cambio\",\n      activarFinalizarCorrida: \"activarFinalizarCorrida\",\n      maquina: \"maquina\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 31,\n    vars: 3,\n    consts: [[\"id\", \"material-salida-cortina\", 1, \"cortina\"], [1, \"div-buscar-orden-produccion\"], [\"src\", \"../../../assets/image/Logo1.png\", \"alt\", \"\", 1, \"logocolplas\"], [1, \"title-buscar-orden-produccion\"], [1, \"grid\"], [1, \"g-col-6\", \"g-col-md-4\", \"container\"], [\"id\", \"container\"], [\"id\", \"row\"], [\"id\", \"col\"], [\"id\", \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 1, \"form-control\", 3, \"value\", \"input\"], [\"id\", \"row\", 1, \"div-table-row-buscar-orden-produccion\"], [\"id\", \"table table-striped\", 1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ordenProduccionBuscar\", \"cambio\", 4, \"ngIf\"], [1, \"i-material-saldia\", \"ver\", 3, \"click\"], [1, \"bi\", \"bi-bar-chart-fill\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-bar-chart-fill\"], [\"d\", \"M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z\"], [1, \"i-material-saldia\", \"editar\", 3, \"click\"], [\"src\", \"https://img.icons8.com/material/24/000000/ms-excel--v1.png\"], [3, \"ordenProduccionBuscar\", \"cambio\"]],\n    template: function BuscarOrdenProduccionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\");\n        i0.ɵɵelement(4, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵelementStart(6, \"h1\", 3);\n        i0.ɵɵtext(7, \"Consulta de ordenes de produccion\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"input\", 10);\n        i0.ɵɵlistener(\"input\", function BuscarOrdenProduccionComponent_Template_input_input_14_listener($event) {\n          return ctx.onInput($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 11);\n        i0.ɵɵelementStart(16, \"div\", 8);\n        i0.ɵɵelementStart(17, \"table\", 12);\n        i0.ɵɵelementStart(18, \"thead\");\n        i0.ɵɵelementStart(19, \"tr\");\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"Orden Produccion\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Codigo Producto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Descripcion\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Acciones\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"tbody\");\n        i0.ɵɵtemplate(29, BuscarOrdenProduccionComponent_tr_29_Template, 14, 3, \"tr\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, BuscarOrdenProduccionComponent_app_orden_produccion_ver_30_Template, 1, 1, \"app-orden-produccion-ver\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"value\", ctx.inputValue);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngForOf\", ctx.ordenesProduccion);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.iniciarVerMaterialSalida);\n      }\n    },\n    directives: [i9.NgForOf, i9.NgIf, i10.OrdenProduccionVerComponent],\n    styles: [\".cortina[_ngcontent-%COMP%]{position:absolute;visibility:hidden;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;bottom:auto;z-index:1045;display:flex;flex-direction:column;max-width:100%;opacity:72%;outline:0;transition:transform .3s;background:black}.container[_ngcontent-%COMP%]{grid-column:2/4;grid-row:1/3;border-radius:12px;border:1px solid #A69595;text-align:center;padding:39px 56px}.logocolplas[_ngcontent-%COMP%]{width:284px;margin:30px 0 30px 131px}.tittle[_ngcontent-%COMP%]{font-weight:700;font-size:24px}.title-buscar-orden-produccion[_ngcontent-%COMP%]{margin-top:62px;font-size:37px;font-weight:bold;margin-left:27px}.div-buscar-orden-produccion[_ngcontent-%COMP%]{display:flex}.form-control[_ngcontent-%COMP%]{display:block;width:43%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.div-table-row-buscar-orden-produccion[_ngcontent-%COMP%]{margin-top:21px}.g-col-6[_ngcontent-%COMP%], .g-col-md-4[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{min-height:738px}\"]\n  });\n  return BuscarOrdenProduccionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}
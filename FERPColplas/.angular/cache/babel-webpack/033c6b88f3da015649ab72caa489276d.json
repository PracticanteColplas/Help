{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"src/app/services/tiempo-paro.service\";\nexport let TiempoParoEliminarComponent = /*#__PURE__*/(() => {\n  class TiempoParoEliminarComponent {\n    constructor(toastr, _tiempoParoService) {\n      this.toastr = toastr;\n      this._tiempoParoService = _tiempoParoService;\n      this.cambio = new EventEmitter();\n    }\n\n    ngOnChanges() {\n      if (this.tiempoParoEliminar != 0) {\n        this.eliminarTiempoParo();\n      }\n    } // This function allows you delete the element in Tiempo paro\n\n\n    eliminarTiempoParo() {\n      this._tiempoParoService.deleteTiempoParoExtrusion(this._tiempoParoService.TiempoParoEliminar).subscribe(data => {\n        this.toastr.error('El tiempo de paro fue eliminado con exito', 'Tiempo de paro eliminado');\n        this.transformarTiempo(this._tiempoParoService.TiempoParoEliminarElemento);\n\n        if (this._tiempoParoService.TiempoParoActualizar) {\n          this._tiempoParoService.TiempoParoActualizar = false;\n        } else {\n          this._tiempoParoService.TiempoParoActualizar = true;\n        }\n      }, error => {\n        console.log(error);\n      });\n    } // This is the function that make the subtraction of the time in TiempoParo\n\n\n    transformarTiempo(tiempoParoEliminarElemento) {\n      var fechaInicio = new Date(tiempoParoEliminarElemento.fechaInicio).getTime();\n      var fechaFin = new Date(tiempoParoEliminarElemento.fechaFinal).getTime();\n      var resta = fechaFin - fechaInicio;\n      var horas = resta / (1000 * 60 * 60);\n      this._tiempoParoService.TiempoParoTotal = this._tiempoParoService.TiempoParoTotal - horas;\n    }\n\n  }\n\n  TiempoParoEliminarComponent.ɵfac = function TiempoParoEliminarComponent_Factory(t) {\n    return new (t || TiempoParoEliminarComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.TiempoParoService));\n  };\n\n  TiempoParoEliminarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TiempoParoEliminarComponent,\n    selectors: [[\"app-tiempo-paro-eliminar\"]],\n    inputs: {\n      tiempoParoEliminar: \"tiempoParoEliminar\"\n    },\n    outputs: {\n      cambio: \"cambio\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 0,\n    vars: 0,\n    template: function TiempoParoEliminarComponent_Template(rf, ctx) {},\n    styles: [\"\"]\n  });\n  return TiempoParoEliminarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}